<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Chatbot con MicrÃ³fono</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 40px; }
    button { padding: 10px 20px; font-size: 18px; }
    #status { margin-top: 20px; font-size: 16px; color: darkgreen; }
  </style>
</head>
<body>
  <h1>Prueba de MicrÃ³fono</h1>
  <button id="startBtn">ðŸŽ¤ Hablar / Speak</button>
  <div id="status"></div>
  <script>
    const startBtn = document.getElementById('startBtn');
    const statusDiv = document.getElementById('status');
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    if (!SpeechRecognition) {
      statusDiv.textContent = "Tu navegador no soporta reconocimiento de voz. Usa Chrome o Edge.";
    } else {
      const recognition = new SpeechRecognition();
      recognition.lang = 'es-ES';

      recognition.addEventListener('start', () => {
        statusDiv.textContent = 'ðŸŽ™ï¸ Escuchando... por favor habla.';
      });

      recognition.addEventListener('end', () => {
        statusDiv.textContent = 'âœ… Listo. Puedes volver a hablar si lo deseas.';
      });

      recognition.addEventListener('result', (event) => {
        const transcript = event.results[0][0].transcript;
        statusDiv.textContent = 'ðŸ—£ï¸ EscuchÃ©: ' + transcript;
      });

      startBtn.addEventListener('click', () => {
        recognition.start();
      });
    }
  </script>
</body>
</html>
